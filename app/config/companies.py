"""
ê¸€ë¡œë²Œ ê²Œì„ ê¸°ì—… ì •ë³´ ì„¤ì • (í•œêµ­/ì¤‘êµ­/ì¼ë³¸/ë¯¸êµ­/ìœ ëŸ½)
"""
from typing import Dict, List, Optional

# --- 1. ì¢…ëª©ì½”ë“œ â†’ ê¸°ì—…ëª… (ê¸°ì¡´ í˜¸í™˜) ---
GAME_COMPANIES: Dict[str, str] = {
    # ğŸ‡°ğŸ‡· í•œêµ­
    "035420": "ë„¤ì´ë²„", "035720": "ì¹´ì¹´ì˜¤", "259960": "í¬ë˜í”„í†¤", "036570": "ì—”ì”¨ì†Œí”„íŠ¸", "251270": "ë„·ë§ˆë¸”",
    "263750": "í„ì–´ë¹„ìŠ¤", "293490": "ì¹´ì¹´ì˜¤ê²Œì„ì¦ˆ", "225570": "ë„¥ìŠ¨ê²Œì„ì¦ˆ", "112040": "ìœ„ë©”ì´ë“œ", "095660": "ë„¤ì˜¤ìœ„ì¦ˆ",
    "181710": "NHN", "078340": "ì»´íˆ¬ìŠ¤", "192080": "ë”ë¸”ìœ ê²Œì„ì¦ˆ", "145720": "ë”ë¸”ë‹¤ìš´ì¸í„°ì•¡í‹°ë¸Œ", "089500": "ê·¸ë¼ë¹„í‹°",
    "194480": "ë°ë¸Œì‹œìŠ¤í„°ì¦ˆ", "069080": "ì›¹ì  ", "217270": "ë„µíŠ ", "101730": "ìœ„ë©”ì´ë“œë§¥ìŠ¤", "063080": "ì»´íˆ¬ìŠ¤í™€ë”©ìŠ¤",
    "067000": "ì¡°ì´ì‹œí‹°", "950190": "ë¯¸íˆ¬ì  ", "123420": "ìœ„ë©”ì´ë“œí”Œë ˆì´", "201490": "ë¯¸íˆ¬ì˜¨", "348030": "ëª¨ë¹„ë¦­ìŠ¤",
    "052790": "ì•¡í† ì¦ˆì†Œí”„íŠ¸", "331520": "ë°¸ë¡œí”„", "205500": "ë„¥ì¨ì“°", "462870": "ì‹œí”„íŠ¸ì—…",
    # ğŸ‡¨ğŸ‡³ ì¤‘êµ­ (í™ì½©/ë¯¸êµ­/ì¤‘êµ­ë³¸í† )
    "00700": "Tencent", "09999": "Netease", "09888": "Baidu", "BIDU": "Baidu", "03888": "Kingsoft",
    "002624": "Perfect World", "00777": "Netdragon", "SOHU": "Sohu", "CMCM": "Cheetah Mobile",
    # ğŸ‡¯ğŸ‡µ ì¼ë³¸ (ë„ì¿„)
    "7974": "Nintendo", "3659": "Nexon", "7832": "Bandai-Namco", "9697": "Capcom", "9766": "KONAMI",
    "9684": "Square-Enix", "6460": "Sega", "3765": "Gungho", "2432": "DeNA", "3632": "Gree",
    "3668": "COLOPL", "3656": "Klab",
    # ğŸ‡ºğŸ‡¸ ë¯¸êµ­ (ë‚˜ìŠ¤ë‹¥/ë‰´ìš•)
    "EA": "Electronic-Arts", "RBLX": "Roblox", "TTWO": "Take-Two", "PLTK": "Playtika", "SCPL": "Sciplay",
    # ğŸ‡ªğŸ‡º ìœ ëŸ½ (ë°”ë¥´ìƒ¤ë°”/íŒŒë¦¬)
    "CDR": "CD Projekt SA", "UBI": "Ubisoft"
}

# --- 2. ê¸°ì—…ëª… â†’ ì¢…ëª©ì½”ë“œ (ì—­ë°©í–¥) ---
COMPANY_CODES_BY_NAME: Dict[str, str] = {v: k for k, v in GAME_COMPANIES.items()}

# --- 3. ì¢…ëª©ì½”ë“œ â†’ êµ­ê°€ ---
COMPANY_COUNTRIES: Dict[str, str] = {
    # í•œêµ­
    **{code: "KR" for code in [
        "035420","035720","259960","036570","251270","263750","293490","225570","112040","095660",
        "181710","078340","192080","145720","089500","194480","069080","217270","101730","063080",
        "067000","950190","123420","201490","348030","052790","331520","060240","299910"
    ]},
    # ì¤‘êµ­
    **{code: "CN" for code in [
        "00700","09999","09888","BIDU","03888","002624","00777","SOHU","CMCM"
    ]},
    # ì¼ë³¸
    **{code: "JP" for code in [
        "7974","3659","7832","9697","9766","9684","6460","3765","2432","3632","3668","3656"
    ]},
    # ë¯¸êµ­
    **{code: "US" for code in ["EA","RBLX","TTWO","PLTK","SCPL"]},
    # ìœ ëŸ½
    **{code: "EU" for code in ["CDR","UBI"]}
}

# --- 4. ì¢…ëª©ì½”ë“œ â†’ ë„¤ì´ë²„ ì£¼ê°€ ì§€ì›ì—¬ë¶€ ---
NAVER_SUPPORTED: Dict[str, bool] = {
    # í•œêµ­, í™ì½©, ë„ì¿„, ë‚˜ìŠ¤ë‹¥/ë‰´ìš•, ë°”ë¥´ìƒ¤ë°”, íŒŒë¦¬ ë“± ë„¤ì´ë²„ ì§€ì› ì¢…ëª©
    **{code: True for code in [
        # í•œêµ­
        "035420","035720","259960","036570","251270","263750","293490","225570","112040","095660",
        "181710","078340","192080","145720","089500","194480","069080","217270","101730","063080",
        "067000","950190","123420","201490","348030","052790","331520","060240","299910",
        # ì¤‘êµ­(í™ì½©/ë¯¸êµ­)
        "00700","09999","09888","BIDU","03888","00777","SOHU","CMCM",
        # ì¼ë³¸(ë„ì¿„)
        "7974","3659","7832","9697","9766","9684","6460","3765","2432","3632","3668","3656",
        # ë¯¸êµ­
        "EA","RBLX","TTWO","PLTK","SCPL",
        # ìœ ëŸ½
        "CDR","UBI"
    ]},
    # ì¤‘êµ­ ë³¸í†  ë“± ë¯¸ì§€ì›
    "002624": False
}

# --- 5. ì¢…ëª©ì½”ë“œ â†’ ìƒì„¸ ì •ë³´ (í™•ì¥ì„±) ---
COMPANY_INFO: Dict[str, dict] = {
    code: {
        "name": GAME_COMPANIES[code],
        "country": COMPANY_COUNTRIES.get(code, "Unknown"),
        "naver_supported": NAVER_SUPPORTED.get(code, False)
    }
    for code in GAME_COMPANIES
}

# --- 6. ë™ì  ë¦¬ìŠ¤íŠ¸/í•„í„° í•¨ìˆ˜ ì˜ˆì‹œ ---
def get_company_list(country: Optional[str] = None, naver_supported: Optional[bool] = None) -> List[dict]:
    """
    êµ­ê°€, ë„¤ì´ë²„ ì§€ì›ì—¬ë¶€ ë“±ìœ¼ë¡œ ë™ì  í•„í„°ë§ëœ ê¸°ì—… ë¦¬ìŠ¤íŠ¸ ë°˜í™˜
    """
    result = []
    for code, info in COMPANY_INFO.items():
        if country and info["country"] != country:
            continue
        if naver_supported is not None and info["naver_supported"] != naver_supported:
            continue
        result.append({"code": code, **info})
    return result

# --- 7. ê¸°ì¡´ ë¦¬ìŠ¤íŠ¸/ì¹´ìš´íŠ¸ ë“±ë„ ê·¸ëŒ€ë¡œ ìœ ì§€ ---
TOTAL_COMPANIES = len(GAME_COMPANIES)
COMPANY_NAMES: List[str] = list(GAME_COMPANIES.values())
STOCK_CODES: List[str] = list(GAME_COMPANIES.keys()) 